<ion-header>
  <ion-navbar>
    <ion-title>
      Ionic2 - Amazon S3 Upload
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <h5>TODO</h5>
  <ul>
    <li>Test functionality on iOS and Android + Browser</li>
    <li>Show upload progress</li>
  </ul>

  <hr/>

  <ion-list>
    <ion-item>
      <input type='file' (change)="uploadFile($event)"/>
    </ion-item>
  </ion-list>

  <ion-list>
    <ion-item *ngFor="let upload of uploads">
      {{ upload.name }} <br/>
      {{ upload.status }} <br/>
      <p *ngIf="upload.status != 'complete'">
        %{{ (upload.loaded / upload.total * 100).toFixed(1) }}
      </p>
      <div *ngIf="upload.status != 'complete'" class='loader' 
        [style.width]="(upload.loaded / upload.total * 100).toFixed(1) + '%'"
        style='width: 0%; border-top:3px solid blue;'>
        &nbsp;
      </div>
      <p *ngIf="upload.status == 'complete'">
        <a href='{{ upload.link }}' target='_blank'>
          {{ upload.link }}
        </a>
      </p>
    </ion-item>
  </ion-list>

  
</ion-content>
